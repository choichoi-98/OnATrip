"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6827],{55956:function(e,t,n){var i=n(85893),r=function(e){var t,n=e.title,r=e.isActive,s=e.onClick;return(0,i.jsx)("button",{className:"mr-4 py-1 duration-300 ease-in lg:mr-8 lg:py-2 ".concat(r?"text-lightScheme-primary ":"text-gray-500"),onClick:s,children:(0,i.jsx)("div",{className:"text-base",children:n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()})})};t.Z=r},69894:function(e,t,n){var i=n(85893),r=function(e){var t=e.title,n=e.content;return(0,i.jsx)("div",{className:"w-full bg-[#fafafa] min-h-[20vh] rounded-md flex items-center justify-center my-8",children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:[(0,i.jsx)("h2",{className:"font-semibold",children:void 0===t?"":t}),(0,i.jsx)("p",{className:"text-sm leading-relaxed text-gray-200",children:void 0===n?"":n})]})})};t.Z=r},86827:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i,r,s,o=n(47568),a=n(97582),l=n(85893),c=n(67294),d=n(97650),u=n(1852),h=n(25675),m=n.n(h),p=function(e){var t=e.object,n=(e.marked,e.onClick),i=e.forwardedRef;return(0,l.jsxs)("div",{className:"h-auto overflow-hidden rounded-lg hover:scale-105 duration-200 mr-2 md:m-4 cursor-pointer",ref:i,onClick:n,children:[(0,l.jsx)("div",{className:"pt-2 md:pt-2 md:p-2",children:(0,l.jsxs)("div",{className:"relative w-[120px] h-[120px] md:h-[14rem] xl:h-60 2xl:h-80 md:w-full shadow-md md:shadow-lg rounded-lg",children:[(0,l.jsx)(m(),{src:"".concat("https://cdn.myro.co.kr/prod/image","/city/").concat(t.englishName,".jpg"),layout:"fill",alt:t.englishName.toUpperCase(),objectFit:"cover",className:"object-center rounded-lg ",onError:function(e){e.target.src="/assets/images/noimage.jpg"}}),1===t.eventFlag&&(0,l.jsx)("div",{className:"absolute px-2 py-1 text-white bg-red-600 rounded md:px-3 top-2 -right-1 font-Montserrat",children:(0,l.jsx)("div",{className:"text-[10px] md:text-xs font-medium",children:"NEW"})}),2===t.eventFlag&&(0,l.jsx)("div",{className:"absolute px-2 py-1 text-white rounded bg-lightScheme-third md:px-3 top-2 -right-1 font-Montserrat",children:(0,l.jsx)("div",{className:"text-[10px] md:text-xs font-medium",children:"EVENT"})})]})}),(0,l.jsxs)("div",{className:"relative px-0.5 py-5 md:px-3 md:py-4 w-[130px] md:w-full",children:[1===t.eventFlag&&(0,l.jsx)("div",{className:"absolute flex items-center leading-none top-2 md:top-2",children:(0,l.jsx)("span",{className:"text-[9px] font-medium text-red-600",children:"새로운 여행지"})}),2===t.eventFlag&&(0,l.jsx)("div",{className:"absolute flex items-center leading-none top-2 md:top-2",children:(0,l.jsx)("span",{className:"text-[9px] font-medium text-lightScheme-third",children:"이벤트"})}),(0,l.jsx)("h1",{className:"text-sm font-medium truncate md:text-2xl font-Montserrat",children:t.englishName.toUpperCase()}),(0,l.jsx)("h2",{className:"mb-2 text-xs font-thin truncate md:text-sm",children:"".concat(t.country.koreanName===t.koreanName?"":t.country.koreanName," ").concat(t.koreanName)})]})]})},x=n(20067),f=n(93526),g=n(55956),v=function(e){var t,n=e.title,i=e.isActive,r=e.onClick;return(0,l.jsx)("button",{className:"mx-3 px-4 duration-300 ease-in lg:mx-4 lg:py-2 ".concat(i?"text-lightScheme-primary border-b-2 border-lightScheme-primary":"text-gray-500 border-b-2 border-transparent"),onClick:r,children:(0,l.jsx)("div",{className:"text-xs md:text-lg",children:n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()})})},j=n(69894),y=n(24340),b=n(98774),N=n(11361),w=n(79905),C=n(14924),k=n(26042),S=n(69396),Z=n(11163),V=n(60387),M=n(33521),I=n(86653),O=n(23957),L=((r=function(e){var t=(0,Z.useRouter)(),n=function(n){(0,V.Kz)(V.tw.Click,{page:t.pathname,component:p.name,object:(0,C.Z)({},e.objectName,e.object),extraProps:e.extraPropsName?(0,C.Z)({},e.extraPropsName,e.extraProps):void 0}),e.onClick(n)};return(0,l.jsx)(p,(0,S.Z)((0,k.Z)({},e),{onClick:n}))}).displayName=p.name,function(e){var t=(0,Z.useRouter)(),n=(0,d.YD)({threshold:.5}),i=n.ref,s=n.inView;n.entry;var o=(0,c.useState)(!1),a=o[0],u=o[1];return(0,c.useEffect)(function(){!a&&s&&((0,V.Kz)(V.tw.Impression,{page:t.pathname,component:r.displayName?r.displayName:r.name,object:(0,C.Z)({},e.objectName,e.object),extraProps:e.extraPropsName?(0,C.Z)({},e.extraPropsName,e.extraProps):void 0}),u(!0))},[s]),(0,l.jsx)("div",{className:"w-full",ref:i,children:(0,l.jsx)(r,(0,k.Z)({},e))})}),E=function(){var e=(0,N.M7)({}),t=e.data,n=e.error,i=e.isLoading,r=(0,O.C)(w.P7),s=(0,O.T)();(0,c.useEffect)(function(){(null==t?void 0:t.cityList)&&s(w.YV.setCityList(t.cityList))},[t]);var h=(0,c.useState)(""),m=h[0],p=h[1],C=(0,c.useState)("All"),k=C[0],S=C[1],Z=(0,c.useState)(!1),V=Z[0],E=Z[1],_=(0,c.useState)(),A=_[0],F=_[1],P=(0,c.useCallback)(function(){E(!V)},[V]);(0,c.useEffect)(function(){E(r.isOpenCityInfoModal)},[r.isOpenCityInfoModal]);var R=(0,c.useState)(4)[0],U=(0,c.useState)(2),z=U[0],T=U[1],B=(0,u.useMediaQuery)({query:"(min-width: 768px)"}),D=(0,c.useState)([]),W=D[0],Y=D[1];return(0,c.useEffect)(function(){(null==t?void 0:t.cityList)&&Y(function(){return t.cityList.slice().sort(function(e,t){return e.eventFlag>t.eventFlag?-1:e.eventFlag<t.eventFlag?1:e.itinerarySelectedCount>t.itinerarySelectedCount?-1:e.itinerarySelectedCount<t.itinerarySelectedCount?1:0})})},[null==t?void 0:t.cityList]),(0,l.jsxs)("div",{className:"container relative mx-auto",children:[B?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full mb-4 text-center",children:(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-100 ",children:"어디로 여행을 떠나시나요?"})}),(0,l.jsxs)("div",{className:"relative w-full p-8 mx-auto mb-8 text-gray-600 md:w-1/2",children:[(0,l.jsx)("input",{className:"w-full h-16 px-5 pr-16 text-lg bg-white rounded-lg shadow-lg focus:outline-none placeholder:text-sm placeholder:text-gray-600",type:"search",name:"search",placeholder:"국가명이나 도시명으로 검색해보세요.",value:m,onChange:function(e){p(e.target.value)}}),(0,l.jsx)("button",{className:"absolute top-0 bottom-0 right-0 mr-12",children:(0,l.jsx)("svg",{className:"w-6 h-6 md:w-8 md:h-8",xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Capa_1",viewBox:"0 0 56.966 56.966",children:(0,l.jsx)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23 s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92 c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17 s-17-7.626-17-17S14.61,6,23.984,6z"})})})]}),(0,l.jsx)("div",{id:"wrapper-filter",className:"flex items-center justify-center w-full",children:(0,l.jsx)("ul",{className:"inline-flex text-center",children:M.mX.map(function(e,t){return(0,l.jsx)(v,{title:e.kor,isActive:e.eng===k,onClick:function(t){t.target,S(e.eng)}},t)})})}),(0,l.jsx)("div",{className:"container flex flex-wrap",children:n||i?(0,l.jsx)(j.Z,{content:"검색 결과가 없습니다."}):t.cityList&&0!==(0,I.y)(t.cityList,m,k).length?(0,I.y)(W,m,k).slice(0,(z-1)*R+R).map(function(e,t){var n;return t%4==0&&0!==t?(0,l.jsx)("div",{className:"p-0 xl:p-4 md:w-1/2 lg:w-1/4",children:(0,l.jsx)(d.df,{onChange:(n=(0,o.Z)(function(e){return(0,a.__generator)(this,function(t){return e&&T(function(e){return e+1}),[2]})}),function(e){return n.apply(this,arguments)}),children:(0,l.jsx)(L,{object:e,objectName:"cityInfo",marked:"",onClick:function(){F(e),P()}})})},t):(0,l.jsx)("div",{className:"p-0 xl:p-4 md:w-1/2 lg:w-1/4",children:(0,l.jsx)(L,{object:e,objectName:"cityInfo",marked:"",onClick:function(){F(e),P()}})},t)}):(0,l.jsx)(j.Z,{content:"검색 결과가 없습니다."})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full text-left",children:(0,l.jsx)("h2",{className:"text-xl font-bold",children:"전체 여행지"})}),(0,l.jsx)("div",{id:"wrapper-filter",className:"flex items-center w-full mt-2",children:(0,l.jsx)("ul",{className:"inline-flex text-center",children:M.mX.map(function(e,t){return(0,l.jsx)(g.Z,{title:e.kor,isActive:e.eng===k,onClick:function(t){t.target,S(e.eng)}},t)})})}),(0,l.jsx)("div",{className:"container flex pt-2 overflow-x-auto overflow-y-hidden",children:n||i?(0,l.jsx)(j.Z,{content:"검색 결과가 없습니다."}):t.cityList&&0!==(0,I.y)(t.cityList,m,k).length?!t.cityList||(0,I.y)(W,m,k).map(function(e,t){return(0,l.jsx)("div",{className:"p-0 xl:p-4 md:w-1/2 lg:w-1/4",children:(0,l.jsx)(L,{object:e,objectName:"cityInfo",marked:"",onClick:function(){F(e),P()}})},t)}):(0,l.jsx)(j.Z,{content:"검색 결과가 없습니다."})})]}),V&&(0,l.jsx)(y.Z,{children:B?(0,l.jsx)(x.Z,{onClickToggleModal:P,children:(0,l.jsx)(b.Z,{cityInfo:A})}):(0,l.jsx)(f.Z,{maxHeightOffset:"max-h-[80vh]",onClickToggleModal:P,children:(0,l.jsx)(b.Z,{cityInfo:A,onClickToggleModal:P})})})]})}},97650:function(e,t,n){n.d(t,{YD:function(){return m},df:function(){return h}});var i=n(67294);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let s=new Map,o=new WeakMap,a=0,l;function c(e,t,n={},i=l){if(void 0===window.IntersectionObserver&&void 0!==i){let r=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}let{id:c,observer:d,elements:u}=function(e){var t;let n=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var n;return`${t}_${"root"===t?(n=e.root)?(o.has(n)||(a+=1,o.set(n,a.toString())),o.get(n)):"0":e[t]}`}).toString(),i=s.get(n);if(!i){let r=new Map,l,c=new IntersectionObserver(t=>{t.forEach(t=>{var n;let i=t.isIntersecting&&l.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(n=r.get(t.target))||n.forEach(e=>{e(i,t)})})},e);l=c.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:n,observer:c,elements:r},s.set(n,i)}return i}(n),h=u.get(e)||[];return u.has(e)||u.set(e,h),h.push(t),d.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(u.delete(e),d.unobserve(e)),0===u.size&&(d.disconnect(),s.delete(c))}}let d=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function u(e){return"function"!=typeof e.children}class h extends i.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{!this.node||(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),u(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:r,fallbackInView:s}=this.props;this._unobserveCb=c(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:r},s)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!u(this.props)){let{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}let n=this.props,{children:s,as:o}=n,a=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(n,d);return i.createElement(o||"div",r({ref:this.handleNode},a),s)}}function m({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:o,skip:a,initialInView:l,fallbackInView:d,onChange:u}={}){var h;let[m,p]=i.useState(null),x=i.useRef(),[f,g]=i.useState({inView:!!l,entry:void 0});x.current=u,i.useEffect(()=>{if(a||!m)return;let i;return i=c(m,(e,t)=>{g({inView:e,entry:t}),x.current&&x.current(e,t),t.isIntersecting&&o&&i&&(i(),i=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},d),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,m,s,r,o,a,n,d,t]);let v=null==(h=f.entry)?void 0:h.target,j=i.useRef();m||!v||o||a||j.current===v||(j.current=v,g({inView:!!l,entry:void 0}));let y=[p,f.inView,f.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}}}]);